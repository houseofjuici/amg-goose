name: AMG Returns Triage
version: 0.1.0
inputs:
  order_id: string
  customer_email: string
  reason: string
steps:
  - id: validate_order
    uses: shopify.get_order
    with:
      order_id: "{{ inputs.order_id }}"
  - id: triage
    uses: llm.generate
    with:
      prompt: |
        Triage a return.
        Order: {{ steps.validate_order.output | json }}
        Reason: {{ inputs.reason }}
        Decide approve/deny/exchange, include short message template for customer.
outputs:
  decision: "{{ steps.triage.output }}"
